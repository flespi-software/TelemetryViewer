(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)o=s[l],i[o]&&f.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={1:0},i={1:0},a=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{0:"662f8bc",2:"37d4a4d"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={0:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{0:"0d0ebfb4",2:"31d6cfe0"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var s=i[a],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===r||u===o))return t()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){s=l[a],u=s.getAttribute("data-href");if(u===r||u===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,n(i)},f.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(f)}).then(function(){o[e]=0}));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,n){r=i[e]=[t,n]});t.push(r[2]=a);var u,l=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=s(e),u=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:f})},12e4);f.onerror=f.onload=u,l.appendChild(f)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;a.push([0,3]),n()})({0:function(e,t,n){e.exports=n("LzkT")},"A0++":function(e,t,n){"use strict";var r=n("TOJS"),o=n.n(r);o.a},Hl11:function(e,t,n){},LzkT:function(e,t,n){"use strict";n.r(t);n("rGqo"),n("SpHO"),n("oRQL"),n("0UuB"),n("ETwY"),n("Hl11"),n("fm0S");var r=n("Kw5r"),o=n("6E/o"),i=n("cFFF"),a=n("Rqni"),s=n("IEC1"),c=n("zxLP"),u=n("iV8l"),l=n("8wy3"),f=n("zmdN"),d=n("SC7v"),p=n("UrUt"),v=n("UG+o"),h=n("uNnR"),m=n("fUOT"),g=n("lUGP"),b=n("WTFv"),w=n("XYut"),k=n("vJud"),y=n("UlvI"),q=n("YYYh"),T=n("rINx"),S=n("EYBb"),x=n("HlXa"),E=n("A9jH"),O=n("tbgk"),C=n("S/Rk"),Q=n("qaCD"),j=n("dB3m"),L=n("+diE"),D=n("Z4Cl"),I=n("Ezub");r["a"].use(o["a"],{config:{},components:{QLayout:i["a"],QPageContainer:a["a"],QLayoutHeader:s["a"],QLayoutDrawer:c["a"],QSpinnerGears:u["a"],QToolbar:l["a"],QToolbarTitle:f["a"],QBtn:d["a"],QIcon:p["a"],QItem:v["a"],QItemMain:h["a"],QItemSide:m["a"],QItemTile:g["a"],QSelect:b["a"],QInput:w["a"],QToggle:k["a"],QCheckbox:y["a"],QSearch:q["a"],QCollapsible:T["a"],QList:S["a"],QListHeader:x["a"],QTooltip:E["a"],QPopover:O["a"],QChip:C["a"]},plugins:{Loading:Q["a"],Cookies:j["a"],LocalStorage:L["a"],Dialog:D["a"],Notify:I["a"]}});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},P=[];F._withStripped=!0;var N={name:"App"},A=N,R=(n("A0++"),n("KHd+")),B=Object(R["a"])(A,F,P,!1,null,null,null),U=B.exports,V=n("L2JU");n("91GP"),n("yt8O"),n("RW0V"),n("SRfc"),n("pIFo");function _(e){0}function H(e,t){t.forEach(function(t){r["a"].set(e.devices,t.id,t)})}function M(e,t){if(t.response&&t.response.status)switch(t.response.status){case 0:Y(e,!0),J(e),r["a"].set(e,"token","");break;case 401:X(e);break;default:t.response.data&&t.response.data.errors&&t.response.data.errors.length&&t.response.data.errors.forEach(function(t){$(e,t.reason)})}else if(t.code&&t.message)switch(t.code){case 2:e.token&&X(e),$(e,t.message);break}else $(e,t.message)}function z(e,t){var n=t.replace("FlespiToken ","");t&&n.match(/^[a-z0-9]+$/i)?(r["a"].connector.token="FlespiToken ".concat(n),L["a"].set("X-Flespi-Token",n)):(n="",r["a"].connector.token="",X(e)),r["a"].set(e,"token",n),e.errors.length&&(e.errors=[],e.newNotificationCounter=0)}function X(e){var t=j["a"].get("X-Flespi-Token"),n=L["a"].get.item("X-Flespi-Token");t&&n&&t===n&&j["a"].remove("X-Flespi-Token"),L["a"].remove("X-Flespi-Token"),r["a"].connector.token="",e.socketOffline&&W(e,!1),r["a"].set(e,"token","")}function G(e){e.hasDevicesInit=!0}function J(e){e.hasDevicesInit=!1,r["a"].set(e,"devices",[])}function Y(e,t){r["a"].set(e,"offline",t)}function $(e,t){I["a"].create({type:"negative",icon:"warning",message:"".concat(t),timeout:1e3}),e.newNotificationCounter++,e.errors.push(t)}function K(e){r["a"].set(e,"errors",[])}function W(e,t){r["a"].set(e,"socketOffline",t)}function Z(e,t){switch(t.type){case"created":e.devices[t.device.id]=t.device;break;case"updated":Object.keys(e.devices).some(function(n){return n===t.device.id&&(e.devices[n]=Object.assign(e.devices[n],t.device),!0)});break;case"deleted":Object.keys(e.devices).some(function(n,r){return n===t.device.id&&(delete e.devices[n],!0)});break}}function ee(e){e.newNotificationCounter=0}var te={reqStart:_,reqSuccessful:H,reqFailed:M,setToken:z,clearToken:X,setDevicesInit:G,unsetDevicesInit:J,setOfflineFlag:Y,addError:$,clearErrors:K,setSocketOffline:W,updateDevices:Z,clearNotificationCounter:ee},ne=(n("ls82"),n("yXPU")),re=n.n(ne);function oe(e,t){return ie.apply(this,arguments)}function ie(){return ie=re()(regeneratorRuntime.mark(function e(t,n){var o,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.state,i=t.commit,i("reqStart"),e.prev=2,!o.token){e.next=9;break}return e.next=6,r["a"].connector.poolDevices(function(e){i("reqSuccessful",e.data.result)},function(e,t){i("updateDevices",{type:e,device:t})});case 6:return a=e.sent,o.hasDevicesInit||i("setDevicesInit"),e.abrupt("return",re()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].connector.poolDevicesStop(a);case 2:case"end":return e.stop()}},e,this)})));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),i("reqFailed",e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])})),ie.apply(this,arguments)}function ae(e){return se.apply(this,arguments)}function se(){return se=re()(regeneratorRuntime.mark(function e(t){var n,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,o=t.commit,e.prev=1,e.next=4,r["a"].connector.http.external.get("./statics/icons/favicon-16x16.png?_=".concat((new Date).getTime()));case 4:i=e.sent,200===i.status&&n.offline&&o("setOfflineFlag",!1),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),n.offline||o("setOfflineFlag",!0);case 12:case"end":return e.stop()}},e,this,[[1,8]])})),se.apply(this,arguments)}var ce={getDevices:oe,checkConnection:ae};r["a"].use(V["a"]);var ue={token:"",devices:{},hasDevicesInit:!1,offline:!1,newNotificationCounter:0,errors:[],socketOffline:!1},le=new V["a"].Store({state:ue,mutations:te,actions:ce}),fe=n("jE9Z"),de=[{path:"/",component:function(){return n.e(0).then(n.bind(null,"uDGt"))}},{path:"/login/:token",component:function(){return n.e(0).then(n.bind(null,"uDGt"))}},{path:"*",component:function(){return n.e(2).then(n.bind(null,"7l0S"))}}];r["a"].use(fe["a"]);var pe=new fe["a"]({mode:"hash",base:"",scrollBehavior:function(){return{y:0}},routes:de}),ve=pe,he=function(){var e="function"===typeof le?le():le,t="function"===typeof ve?ve({store:e}):ve;e.$router=t;var n={el:"#q-app",router:t,store:e,render:function(e){return e(U)}};return{app:n,store:e,router:t}},me=n("lIOY");Object(me["a"])("service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.")},cached:function(e){console.log("Content has been cached for offline use.")},updated:function(e){var t=document.createElement("div");t.id="sw-notification",t.innerHTML='<div style="z-index: 10000" class="q-notification-list q-notification-list-bottom fixed column items-end absolute">\n                                              <div class="q-notification">\n                                                <div class="q-alert row no-wrap shadow-2 bg-amber-9 text-white">\n                                                  <div class="q-alert-side col-auto row flex-center">\n                                                    <i aria-hidden="true" class="q-icon material-icons">warning</i>\n                                                  </div>\n                                                  <div class="q-alert-content col self-center">\n                                                    <div>The new version of Telemetry Viewer! is available. Refresh the page to update?</div>\n                                                  </div>\n                                                  <div class="q-alert-actions col-auto gutter-xs column flex-center">\n                                                    <div class="full-width">\n                                                      <button tabindex="0" class="q-btn inline relative-position q-btn-item non-selectable full-width q-btn-rectangle q-btn-flat q-focusable q-hoverable q-btn-dense">\n                                                        <div class="q-focus-helper"></div>\n                                                        <div class="q-btn-inner row col items-center justify-start">\n                                                          <div>Agree</div>\n                                                        </div>\n                                                      </button>\n                                                    </div>\n                                                    <div class="full-width">\n                                                      <button tabindex="0" class="q-btn inline relative-position q-btn-item non-selectable full-width q-btn-rectangle q-btn-flat q-focusable q-hoverable q-btn-dense">\n                                                        <div class="q-focus-helper"></div>\n                                                        <div class="q-btn-inner row col items-center justify-start">\n                                                          <div>Abort</div>\n                                                        </div>\n                                                      </button>\n                                                    </div>\n                                                  </div>\n                                                </div>\n                                              </div>\n                                            </div>';var n=t.getElementsByTagName("button"),r=document.getElementsByTagName("body")[0];n[0].addEventListener("click",function(e){window.location.reload()}),n[1].addEventListener("click",function(e){t.remove()}),r.appendChild(t)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ge=n("qSUR"),be={failed:"Action failed",success:"Action was successful"},we={en:be},ke=function(e){var t=e.app,n=(e.store,e.Vue);n.use(ge["a"]),t.i18n=new ge["a"]({locale:"en",fallbackLocale:"en",messages:we})},ye=(n("a1Th"),n("VTyJ")),qe=n.n(ye),Te=n("kiQV"),Se={socketConfig:{clientId:"telemetry-viewer-".concat(Te["a"],"-").concat(Math.random().toString(16).substr(2,8)),mqttSettings:{protocolVersion:5}}};var xe=function(e){var t=e.Vue,n=e.store;t.prototype.$flespiServer=Se.httpConfig&&Se.httpConfig.server?"".concat(Se.httpConfig.server,":").concat(Se.httpConfig.port):"https://flespi.io",t.use(qe.a,Se),t.connector.socket.on("error",function(e){n.commit("reqFailed",e)}),window&&window.addEventListener("beforeunload",function(){t.connector.socket.close(!0)})},Ee=n("/jzl"),Oe=n.n(Ee),Ce=he(),Qe=Ce.app,je=Ce.store,Le=Ce.router;/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){Oe.a.attach(document.body)},!1),[ke,xe].forEach(function(e){e({app:Qe,router:Le,store:je,Vue:r["a"],ssrContext:null})}),new r["a"](Qe)},TOJS:function(e,t,n){},fm0S:function(e,t,n){},kiQV:function(e){e.exports={a:"0.1.0"}}});