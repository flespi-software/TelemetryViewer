(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],u=0,f=[];u<s.length;u++)o=s[u],a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={1:0},a={1:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{0:"e876343",2:"37d4a4d"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={0:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{0:"0d0ebfb4",2:"31d6cfe0"}[e]+".css",o=c.p+r,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){s=u[i],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.request=r,n(a)},f.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(f)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=i);var l,u=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=s(e),l=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");i.type=r,i.request=o,n[1](i)}a[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:f})},12e4);f.onerror=f.onload=l,u.appendChild(f)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=u;i.push([0,3]),n()})({0:function(e,t,n){e.exports=n("LzkT")},"A0++":function(e,t,n){"use strict";var r=n("TOJS"),o=n.n(r);o.a},Hl11:function(e,t,n){},LzkT:function(e,t,n){"use strict";n.r(t);n("rGqo"),n("SpHO"),n("oRQL"),n("0UuB"),n("ETwY"),n("Hl11"),n("fm0S");var r=n("Kw5r"),o=n("6E/o"),a=n("cFFF"),i=n("Rqni"),s=n("IEC1"),c=n("zxLP"),l=n("iV8l"),u=n("8wy3"),f=n("zmdN"),d=n("SC7v"),p=n("UrUt"),v=n("UG+o"),h=n("uNnR"),m=n("fUOT"),g=n("lUGP"),b=n("WTFv"),w=n("XYut"),k=n("vJud"),y=n("UlvI"),q=n("YYYh"),T=n("rINx"),S=n("EYBb"),x=n("HlXa"),E=n("A9jH"),C=n("tbgk"),Q=n("S/Rk"),O=n("qaCD"),L=n("dB3m"),j=n("+diE"),I=n("Z4Cl"),F=n("Ezub");r["a"].use(o["a"],{config:{},components:{QLayout:a["a"],QPageContainer:i["a"],QLayoutHeader:s["a"],QLayoutDrawer:c["a"],QSpinnerGears:l["a"],QToolbar:u["a"],QToolbarTitle:f["a"],QBtn:d["a"],QIcon:p["a"],QItem:v["a"],QItemMain:h["a"],QItemSide:m["a"],QItemTile:g["a"],QSelect:b["a"],QInput:w["a"],QToggle:k["a"],QCheckbox:y["a"],QSearch:q["a"],QCollapsible:T["a"],QList:S["a"],QListHeader:x["a"],QTooltip:E["a"],QPopover:C["a"],QChip:Q["a"]},plugins:{Loading:O["a"],Cookies:L["a"],LocalStorage:j["a"],Dialog:I["a"],Notify:F["a"]}});var D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},N=[];D._withStripped=!0;var P={name:"App"},A=P,R=(n("A0++"),n("KHd+")),B=Object(R["a"])(A,D,N,!1,null,null,null),U=B.exports,_=n("L2JU"),H=(n("SRfc"),n("pIFo"),n("a1Th"),n("cDf5")),M=n.n(H);function V(e){0}function X(e,t){"object"===M()(t)?(t=JSON.parse(t.toString()),r["a"].set(e.devices,t.id,t)):r["a"].delete(e.devices,t)}function z(e,t){if(t.response&&t.response.status)switch(t.response.status){case 0:$(e,!0),K(e),r["a"].set(e,"token","");break;case 401:Y(e);break;default:t.response.data&&t.response.data.errors&&t.response.data.errors.length&&t.response.data.errors.forEach(function(t){Z(e,t.reason)})}else if(t.code&&t.message)switch(t.code){case 2:e.token&&Y(e),Z(e,t.message);break}else Z(e,t.message)}function J(e,t){var n=t.replace("FlespiToken ","");ee(e,!0),t&&n.match(/^[a-z0-9]+$/i)?(r["a"].connector.token="FlespiToken ".concat(n),r["a"].connector.socket.on("connect",function(){r["a"].set(e,"token",n)}),j["a"].set("X-Flespi-Token",n)):(n="",r["a"].connector.token="",Y(e)),e.errors.length&&(e.errors=[],e.newNotificationCounter=0)}function Y(e){var t=L["a"].get("X-Flespi-Token"),n=j["a"].get.item("X-Flespi-Token");t&&n&&t===n&&L["a"].remove("X-Flespi-Token"),j["a"].remove("X-Flespi-Token"),r["a"].connector.token="",e.socketOffline&&ee(e,!1),r["a"].set(e,"token","")}function G(e){e.hasDevicesInit=!0}function K(e){e.hasDevicesInit=!1,r["a"].set(e,"devices",[])}function $(e,t){r["a"].set(e,"offline",t)}function Z(e,t){F["a"].create({type:"negative",icon:"warning",message:"".concat(t),timeout:1e3}),e.newNotificationCounter++,e.errors.push(t)}function W(e){r["a"].set(e,"errors",[])}function ee(e,t){r["a"].set(e,"socketOffline",t)}function te(e){e.newNotificationCounter=0}var ne={reqStart:V,reqSuccessful:X,reqFailed:z,setToken:J,clearToken:Y,setDevicesInit:G,unsetDevicesInit:K,setOfflineFlag:$,addError:Z,clearErrors:W,setSocketOffline:ee,clearNotificationCounter:te},re=(n("KKXr"),n("ls82"),n("yXPU")),oe=n.n(re);function ae(e,t){return ie.apply(this,arguments)}function ie(){return ie=oe()(regeneratorRuntime.mark(function e(t,n){var o,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.state,a=t.commit,a("reqStart"),e.prev=2,!o.token){e.next=9;break}return e.next=6,r["a"].connector.socket.subscribe({name:"flespi/state/gw/devices/+",handler:function(e,t,n){a("reqSuccessful",e.length?e:t.split("/").reverse()[0])}});case 6:return i=e.sent,o.hasDevicesInit||a("setDevicesInit"),e.abrupt("return",oe()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].connector.poolDevicesStop(i);case 2:case"end":return e.stop()}},e,this)})));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),a("reqFailed",e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])})),ie.apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return ce=oe()(regeneratorRuntime.mark(function e(t){var n,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,o=t.commit,e.prev=1,e.next=4,r["a"].connector.http.external.get("./statics/icons/favicon-16x16.png?_=".concat((new Date).getTime()));case 4:a=e.sent,200===a.status&&n.offline&&o("setOfflineFlag",!1),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),n.offline||o("setOfflineFlag",!0);case 12:case"end":return e.stop()}},e,this,[[1,8]])})),ce.apply(this,arguments)}var le={getDevices:ae,checkConnection:se};r["a"].use(_["a"]);var ue={token:"",devices:{},hasDevicesInit:!1,offline:!1,newNotificationCounter:0,errors:[],socketOffline:!1},fe=new _["a"].Store({state:ue,mutations:ne,actions:le}),de=n("jE9Z"),pe=[{path:"/",component:function(){return n.e(0).then(n.bind(null,"uDGt"))}},{path:"/login/:token",component:function(){return n.e(0).then(n.bind(null,"uDGt"))}},{path:"*",component:function(){return n.e(2).then(n.bind(null,"7l0S"))}}];r["a"].use(de["a"]);var ve=new de["a"]({mode:"hash",base:"",scrollBehavior:function(){return{y:0}},routes:pe}),he=ve,me=function(){var e="function"===typeof fe?fe():fe,t="function"===typeof he?he({store:e}):he;e.$router=t;var n={el:"#q-app",router:t,store:e,render:function(e){return e(U)}};return{app:n,store:e,router:t}},ge=n("lIOY");Object(ge["a"])("service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.")},cached:function(e){console.log("Content has been cached for offline use.")},updated:function(e){var t=document.createElement("div");t.id="sw-notification",t.innerHTML='<div style="z-index: 10000" class="q-notification-list q-notification-list-bottom fixed column items-end absolute">\n                                              <div class="q-notification">\n                                                <div class="q-alert row no-wrap shadow-2 bg-amber-9 text-white">\n                                                  <div class="q-alert-side col-auto row flex-center">\n                                                    <i aria-hidden="true" class="q-icon material-icons">warning</i>\n                                                  </div>\n                                                  <div class="q-alert-content col self-center">\n                                                    <div>The new version of Telemetry Viewer! is available. Refresh the page to update?</div>\n                                                  </div>\n                                                  <div class="q-alert-actions col-auto gutter-xs column flex-center">\n                                                    <div class="full-width">\n                                                      <button tabindex="0" class="q-btn inline relative-position q-btn-item non-selectable full-width q-btn-rectangle q-btn-flat q-focusable q-hoverable q-btn-dense">\n                                                        <div class="q-focus-helper"></div>\n                                                        <div class="q-btn-inner row col items-center justify-start">\n                                                          <div>Agree</div>\n                                                        </div>\n                                                      </button>\n                                                    </div>\n                                                    <div class="full-width">\n                                                      <button tabindex="0" class="q-btn inline relative-position q-btn-item non-selectable full-width q-btn-rectangle q-btn-flat q-focusable q-hoverable q-btn-dense">\n                                                        <div class="q-focus-helper"></div>\n                                                        <div class="q-btn-inner row col items-center justify-start">\n                                                          <div>Abort</div>\n                                                        </div>\n                                                      </button>\n                                                    </div>\n                                                  </div>\n                                                </div>\n                                              </div>\n                                            </div>';var n=t.getElementsByTagName("button"),r=document.getElementsByTagName("body")[0];n[0].addEventListener("click",function(e){window.location.reload()}),n[1].addEventListener("click",function(e){t.remove()}),r.appendChild(t)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var be=n("qSUR"),we={failed:"Action failed",success:"Action was successful"},ke={en:we},ye=function(e){var t=e.app,n=(e.store,e.Vue);n.use(be["a"]),t.i18n=new be["a"]({locale:"en",fallbackLocale:"en",messages:ke})},qe=n("VTyJ"),Te=n.n(qe),Se=n("kiQV"),xe={socketConfig:{clientId:"telemetry-viewer-".concat(Se["a"],"-").concat(Math.random().toString(16).substr(2,8)),mqttSettings:{protocolVersion:5}}};var Ee=function(e){var t=e.Vue,n=e.store;t.prototype.$flespiServer=xe.httpConfig&&xe.httpConfig.server?"".concat(xe.httpConfig.server,":").concat(xe.httpConfig.port):"https://flespi.io",t.use(Te.a,xe),t.connector.socket.on("error",function(e){n.commit("reqFailed",e)}),window&&window.addEventListener("beforeunload",function(){t.connector.socket.close(!0)})},Ce=n("/jzl"),Qe=n.n(Ce),Oe=me(),Le=Oe.app,je=Oe.store,Ie=Oe.router;/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){Qe.a.attach(document.body)},!1),[ye,Ee].forEach(function(e){e({app:Le,router:Ie,store:je,Vue:r["a"],ssrContext:null})}),new r["a"](Le)},TOJS:function(e,t,n){},fm0S:function(e,t,n){},kiQV:function(e){e.exports={a:"0.1.1"}}});