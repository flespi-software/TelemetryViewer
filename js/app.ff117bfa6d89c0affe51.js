webpackJsonp([2],{"+nwc":function(e,n){},0:function(e,n,t){e.exports=t("nplA")},1:function(e,n){},2:function(e,n){},3:function(e,n){},"3Puz":function(e,n){},4:function(e,n){},JsEP:function(e,n){},N12Q:function(e,n){},R58i:function(e,n){},nplA:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("Dd8w"),a=t.n(o),i=(t("30VO"),t("/5sW")),s=t("7109");i.a.use(s.C,{components:{QLayout:s.o,QPageContainer:s.t,QLayoutHeader:s.q,QLayoutDrawer:s.p,QSpinnerGears:s.x,QToolbar:s.z,QToolbarTitle:s.A,QBtn:s.f,QIcon:s.i,QItem:s.k,QItemMain:s.l,QItemSide:s.m,QItemTile:s.n,QSelect:s.w,QInput:s.j,QToggle:s.y,QCheckbox:s.g,QSearch:s.v,QCollapsible:s.h,QList:s.r,QListHeader:s.s,QTooltip:s.B,QPopover:s.u},plugins:{Loading:s.c,Cookies:s.a,LocalStorage:s.d,Dialog:s.b,Notify:s.e}});t("L4dm"),t("hAPP"),t("59Iv"),t("3Puz"),t("N12Q");var c=function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},r=[];c._withStripped=!0;var u=t("XyMi"),l=!1;var f=function(e){l||t("tHqv")},p=Object(u.a)({name:"App"},c,r,!1,f,null,null);p.options.__file="src/App.vue";var v=p.exports,d=t("/ocq"),h=[{path:"/",component:function(){return t.e(0).then(t.bind(null,"yoYR"))}},{path:"/login/:token",component:function(){return t.e(0).then(t.bind(null,"yoYR"))}},{path:"*",component:function(){return t.e(1).then(t.bind(null,"c5Mg"))}}];i.a.use(d.a);var m=new d.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:h}),k=t("NYxO");function g(e){var n=s.a.get("X-Flespi-Token"),t=s.d.get.item("X-Flespi-Token");n&&t&&n===t&&s.a.remove("X-Flespi-Token"),s.d.remove("X-Flespi-Token"),i.a.connector.token="",i.a.set(e,"token","")}function Q(e,n){i.a.set(e,"offline",n)}var w,b,T={reqStart:function(e){},reqSuccessful:function(e,n){n.forEach(function(n){i.a.set(e.devices,n.id,n)})},reqFailed:function(e,n){switch(console.log(n),n.response.status){case 0:Q(e,!0),i.a.set(e,"token","");break;case 401:g(e)}},setToken:function(e,n){var t=n.replace("FlespiToken ","");n&&t.match(/^[a-z0-9]+$/i)?(i.a.connector.token="FlespiToken "+t,s.d.set("X-Flespi-Token",t)):(t="",i.a.connector.token="",g(e)),i.a.set(e,"token",t)},clearToken:g,setDevicesInit:function(e){e.hasDevicesInit=!0},unsetDevicesInit:function(e){e.hasDevicesInit=!1,i.a.set(e,"devices",[])},setOfflineFlag:Q},x=t("Xxa5"),D=t.n(x),I=t("exGp"),L=t.n(I),y={getDevices:(w=L()(D.a.mark(function e(n,t){var o,a,s=n.state,c=n.commit;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c("reqStart"),e.prev=1,!s.token){e.next=9;break}return e.next=5,i.a.connector.gw.getDevices("all",{fields:"id,name,ident,phone,messages_ttl"});case 5:o=e.sent,a=o.data.result,c("reqSuccessful",a),s.hasDevicesInit||c("setDevicesInit");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c("reqFailed",e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])})),function(e,n){return w.apply(this,arguments)}),checkConnection:(b=L()(D.a.mark(function e(n){var t=n.state,o=n.commit;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.connector.http.external.get("./statics/icons/favicon-16x16.png?_="+(new Date).getTime());case 3:200===e.sent.status&&t.offline&&o("setOfflineFlag",!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.offline||o("setOfflineFlag",!0);case 11:case"end":return e.stop()}},e,this,[[0,7]])})),function(e){return b.apply(this,arguments)})};i.a.use(k.a);var S=new k.a.Store({state:{token:"",devices:{},hasDevicesInit:!1,offline:!1},mutations:T,actions:y}),q=t("TXmL"),F={en:{failed:"Action failed",success:"Action was successful"}},P=t("LarL"),A=t.n(P),_={};var O=t("v5o6"),X=t.n(O);i.a.config.productionTip=!1;var C=a()({el:"#q-app",router:m,store:S},v),M=[];M.push(function(e){var n=e.app;e.store;e.Vue.use(q.a),n.i18n=new q.a({locale:"en",fallbackLocale:"en",messages:F})}),M.push(function(e){e.Vue.use(A.a,_)}),M.forEach(function(e){return e({app:C,router:m,store:S,Vue:i.a})}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){X.a.attach(document.body)},!1),new i.a(C)},tHqv:function(e,n){}},[0]);