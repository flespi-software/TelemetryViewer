webpackJsonp([3],{42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(22),o=n(46),s=n(54),a=n(92);n.n(a);n(43),r.a.config.productionTip=!1,r.a.use(i.z),n(90),i.z.start(function(){new r.a({el:"#q-app",router:o.a,store:s.a,render:function(e){return e(n(94))}})})},43:function(e,t){},46:function(e,t,n){"use strict";function r(e){return function(){return n(48)("./"+e+".vue")}}var i=n(5),o=n(47);i.a.use(o.a),t.a=new o.a({routes:[{path:"/",component:r("Index")},{path:"/login/:token",component:r("Index")},{path:"*",component:r("Error404")}]})},48:function(e,t,n){function r(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./Error404.vue":[100,1],"./Index.vue":[101,0]};r.keys=function(){return Object.keys(i)},r.id=48,e.exports=r},54:function(e,t,n){"use strict";var r=n(40),i=n(5),o=n(55),s=n(57),a=n(58);i.a.use(o.a),i.a.use(r.b);var c={token:"",devices:{},hasDevicesInit:!1,offline:!1};t.a=new r.b.Store({state:c,mutations:s.a,actions:a.a})},56:function(e,t){},57:function(e,t,n){"use strict";function r(e){}function i(e,t){t.result.forEach(function(t){p.a.set(e.devices,t.id,t)})}function o(e,t){switch(t.status){case 0:f(e,!0),p.a.set(e,"token","");break;case 401:a(e)}}function s(e,t){var n=t.replace("FlespiToken ","");t&&n.match(/^[a-z0-9]+$/i)?(p.a.http.headers.common.Authorization="FlespiToken "+n,l.d.set("X-Flespi-Token",n)):(n="",a(e)),p.a.set(e,"token",n)}function a(e){var t=l.a.get("X-Flespi-Token"),n=l.d.get.item("X-Flespi-Token");t&&n&&t===n&&l.a.remove("X-Flespi-Token"),l.d.remove("X-Flespi-Token"),p.a.http.headers.common.Authorization="",p.a.set(e,"token","")}function c(e){e.hasDevicesInit=!0}function u(e){e.hasDevicesInit=!1,p.a.set(e,"devices",[])}function f(e,t){p.a.set(e,"offline",t)}var p=n(5),l=n(22);t.a={reqStart:r,reqSuccessful:i,reqFailed:o,setToken:s,clearToken:a,setDevicesInit:c,unsetDevicesInit:u,setOfflineFlag:f}},58:function(e,t,n){"use strict";function r(e,t){var n=e.state,r=e.commit;return r("reqStart"),!!n.token&&c.a.http.get(t+"/registry/devices/all",{params:{fields:"id,name,ident,phone,telemetry,messages_ttl"}}).then(function(e){return e.json()}).then(function(e){return r("reqSuccessful",e),n.hasDevicesInit||r("setDevicesInit"),e.result}).catch(function(e){r("reqFailed",e)})}var i=n(59),o=n.n(i),s=n(62),a=n.n(s),c=n(5),u=function(){var e=a()(o.a.mark(function e(t){var n,r=(t.state,t.commit);return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.http.get("/statics/icons/favicon-16x16.png?_="+(new Date).getTime());case 3:n=e.sent,200===n.status&&r("setOfflineFlag",!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();t.a={getDevices:r,checkConnection:u}},91:function(e,t){},93:function(e,t){},94:function(e,t,n){function r(e){n(95)}var i=n(37)(n(96),n(97),r,null,null);e.exports=i.exports},95:function(e,t){},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},97:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},staticRenderFns:[]}}},[42]);